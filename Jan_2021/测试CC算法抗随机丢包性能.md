# 测试CC算法抗随机丢包性能

采用iperf测试端到端传输带宽，比较算法包括TCP Reno, Cubic, BBR

采用mahimahi模拟存在随机丢包的有限带宽网络，设置带宽上限为12Mbps，丢包率在0-10%

| CC\Mbps\loss | 0    | 2%   | 4%   | 6%   | 8%   | 10%  |
| ------------ | ---- | ---- | ---- | ---- | ---- | ---- |
| Reno         | 11.9 | 11.3 | 9.71 | 8.21 | 6.19 | 4.80 |
| Cubic        | 11.9 | 11.3 | 8.94 | 6.63 | 4.76 | 3.63 |
| BBR          | 11.9 | 11.6 | 11.4 | 11.2 | 10.8 | 10.6 |

在存在随机丢包的无线网络情况下，Cubic不能完全利用网络带宽，会导致高的传输延迟。

Cubic在带宽变化大的情况下，会将拥塞窗口设置大于可用带宽，带来很大的排队延迟。

因此在随机丢包并带宽波动大的无线网络下，应该设计一种对丢包不敏感，可以充分利用链路带宽，的但是又不引起太大排队延迟的拥塞控制算法。基于延迟的算法会比较合适。

### 算法思路

- 控制往返延迟小于特定阈值
- 控制单向延迟小于特定阈值
- 控制排队数据量小于特定阈值
- 优化包含延迟和吞吐量的目标函数，延迟的优先级更高