# PCC Proteus

如今的网络应用可以分为时间弹性和时间非弹性的。其中时间弹性为云存储服务和软件更新等，下载时间可以延长或者缩短。时间非弹性应用包括实时视频流和在线视频，例如youtube和skype等。

本文的目标是设计一个拥塞控制机制`Scavenger`，只使用主要流剩余的带宽。

- 当和基本流竞争时，它对基本流的影响很小
- 当只存在Scavenger时，达到高吞吐量和低延迟
- 可以在多种机制间动态切换，避免单独执行某一种拥塞控制方案

LEDBAT是现存的Scanvenging协议。它的机制是当RTT大于最小RTT与100ms的和时降低CWND。问题是过于激进。可能观察到波动的最小RTT。

## Overview

- 基于效用函数的架构
- 新的效用函数：`Primary, Scavenger, Hybrid`
- 处理噪声

## 架构

PCC方法是做多个微实验，每次实验发送不同的速率，共发送高低两种速率。然后根据接收端反馈的SACK信息计算出吞吐量、丢包率和RTT并计算效用函数值。根据控制器选择效用函数值高的发送速率。

PCC Proteus引入效用函数库，有三种不同的效用函数。效用控制模块可以根据上层应用的需求和实时QoE选择最合适的效用方程。将其应用在网络控制上。

## 效用函数

- 为Scavenger选择性能指标

丢包是TCP变体和PCC采用的拥塞指标，RTT梯度是PCC Vivace采用的指标。RTT梯度指示的时间早于丢包。Copa和LEDBAT采取当RTT超过某个阈值时作为标志。

作者将RTT标准偏差作为竞争标准。RTT标准差是指发送某一个速率时观察到的RTT样本的标准差。它可以捕获流量竞争中缓冲区占用的动态。

- 设计效用函数

PCC Vivace的效用函数奖励发送速率，惩罚RTT梯度，惩罚丢包。

- Proteus Primary方程

和Vivace效用方程类似，但是忽略了负的RTT梯度。可以避免发送速率超过容量，达到更快收敛。

- Proteus Scavenger方程

在Primary方程的基础上加入了RTT标准差的惩罚项。这使得拥塞标志早于其他指标。

- Proteus Hybrid 交叉层设计

根据发送速率和阈值的大小，在Primary和Scavenger两种方程之间切换。

发送速率小于阈值时，采用primary方程，发送速率大于阈值时采用Scavenger方程

应用层的工作是选择合适的阈值，获得更好的QoE。例如对于ABR视频而言，默认采用阈值为1.5倍最大比特率。当视频缓冲区快满时，降低阈值。

## 噪声处理

- 对一批ACK数据进行滤波
- 基于线性回归误差和长期趋势忽略RTT梯度和偏差

## 评估

在UDT上和QUIC实现，仿真了视频流服务器，实验采用Emulab

用于和Primary对比的协议包括CUIBC, BBR, Vivace, COPA。和Scavenger对比的算法为LEDBAT。

## 总结

Proteus-S采用了RTT标准差作为流量竞争的标志，持续服从于主要协议，作为通用拥塞控制器有良好的性能，具有弹性的混合模式可以优化效用函数。

## 挑战

- 处理波动的无线环境下的噪声处理
- 在QUIC上部署





