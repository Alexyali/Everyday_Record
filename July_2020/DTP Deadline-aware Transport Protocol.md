# DTP: Deadline-aware Transport Protocol
- QUIC的ACK机制是什么？

## Abstract
- 许多应用有ddl要求例如云游戏
- 这些应用的数据被分为多个块，和不同的优先级，可以通过优先发送一些块来减少带宽消耗
- 本文提出的ddl感知传输协议提供了截止时间前传输的服务

## Intoduction
- VR, AR, 超低延迟云游戏等的网络要求
	- 需要传送多个并行块和变化的优先级
	- 应用的内容对时延敏感，有确定的ddl
	- 应用能够动态调整优先级和ddl，也可以取消一个已经送到传输层buffer的数据块
- DTP协议可以支持内容优先级，截止，动态调整和取消排队数据。DTP让开发者专注于计算ddl的逻辑，而不是如何控制ddl。
- DTP选择QUIC作为底层协议

## Background
- 基于块传输需要截止延迟
- 不同块有不同优先级和截止延迟
- 预测和纠正，某些应用可能根据移动轨迹预测，可能需要纠正

## Design
- 在QUIC的基础上扩展，因为QUIC提供了许多有用的模块
- 首先应用程序将块和元数据发到传输层，它会放到一个缓冲里
- 调度器会选择需要发送的包，打包器将数据块分为许多数据包
- 拥塞控制模块负责发包，收集ACK，丢包检测。丢失的包会放入重传队列，并且返回网络状态例如带宽和RTT给调度器

### 支持块传输的QUIC
- 将块映射到QUIC流，如果决定舍弃块，则利用标准的流取消过程，还可以将最大流数据设置为最大块大小，也可以将块序号映射到流序号。
- 禁止将不同流复用到一个数据包
- 调度器从拥塞控制模块获取网络信息，例如BBR根据交付速率估计带宽

### API
- 我们扩展了BSD套接字API，以使应用程序将元数据与数据块一起附加。每个数据块有一个独特标识，一个截止延迟请求和重要程度

### 截止延迟感知的调度器
- 目标是在截止延迟之前提供尽可能多的高优先级数据，并删除过时或低优先级的数据块
- 调度器利用拥塞控制模块提供的带宽和RTT测量以及应用程序提供的块元数据来估算块完成时间
- 每当接收到ACK或应用程序推送数据时，调度器就会运行

## Related work
- WebRTC采取主动反应的方法调整视频的比特率。当拥塞发生时，发送端除了继续发送已经编码的视频帧，也会给未来的帧降低编码速率。但是这个反应过程比较慢，不能缓解拥塞。
- Salasify联合设计编码器和传输层，根据网络容量来精确调整编码帧大小。但是这个方法需要替代整个栈，不支持硬件编码和解码
- RTP和RTCP支持实时应用，针对媒体传输优化
- Perkins讨论了RTP和QUIC的映射，并将QUIC扩展以支持实时媒体传输
- Plamer提出了QUIC的扩展以支持视频流媒体
