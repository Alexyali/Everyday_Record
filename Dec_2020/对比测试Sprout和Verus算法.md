# 对比测试Sprout和Verus算法

两者都是为带宽变化迅速的LTE网络设计。

### Sprout

基于接收端的数据包到达时间，短期预测网络带宽，并计算发送多少字节数据，不会让延迟超过某个阈值的可能性超过95%。

Sprout采用路径驱动的仿真评估并和其他算法进行比较。首先采集了4个不同的商业蜂窝网络的路径，在路上驾驶过程中收集数据。建立了一个网络仿真器Cellsim，并将收集的trace放入到网络仿真器进行比较。

在Pantheon下，用mahimahi仿真网络，进行测试

- 在100mbps网络下，延迟只有8ms，吞吐量只有50Mbps？
- 在72Mbps网络下，延迟12ms，吞吐量只有50Mbps 
- 在48Mbps网络下，延迟只有17ms，吞吐量只有43.7Mbps
- 在12mbps网络下，吞吐量11.98Mbps，延迟73ms
- 在Verizon_LTE网络下，吞吐量最高，延迟仅次于BBR和Vegas，对带宽的预测比较准确

### Verus

捕获端到端延迟和未完成的窗口大小的关系，并基于短期数据包延迟变化调整窗口大小。

Verus的实验包括真实网络和路径驱动两种实验。Verus和Sprout, Cubic, New Reno和Vegas进行对比。在真实网络下，作者使用移动设备在3G和LTE网络下运行协议，在评估中约束同时使用的设备数量和每个设备流的数量。真实网络在当地运营商网络下进行评估。采用手机运行不同的算法流。所有实验在Etisalat的3G和LTE网络下，在固定地点（深夜居民区）同时进行。所有测试都在下行链路上完成。实验结果显示，Verus的吞吐量和延迟都略高于Sprout。

路径仿真采用OPNET网络仿真器。作者从商业移动蜂窝网络中分别收集了上行和下行方向的路径，并在OPNET下重现这些路径。采用四台安卓手机和一台服务器收集路径。总共在7个不同移动特点的场景下收集了数据。作者在OPNET网络仿真器下重现这些路径并评估Verus，Cubic和NewReno的性能。

设计了快速变化的网络实验，每5s改变链路带宽、网络RTT和丢包率等参数。实验显示，Verus可以快速反应，但是Sprout的吞吐量很低，无法追踪网络的链路容量。原因是随机变化的网络参数不具有时间相关性，Sprout的预测不准。

注：因为Sprout代码库和网络模拟器不兼容，因此Verus只在真实网络下和Sprout进行比较。仅使用Sprout的sendonly与其他协议进行公平对比

在Pantheon下，用mahimahi仿真网络，进行测试

- 在Verizon-LTE下，平均吞吐量小于BBR和Sprout，延迟500ms，远大于BBR
- 在TMobile-LTE下，吞吐量利用率37%，延迟365ms
- 在12mbps下，平均吞吐量9Mbps，延迟180ms
- 在100Mbps下，平均吞吐量66Mbps，延迟257ms

