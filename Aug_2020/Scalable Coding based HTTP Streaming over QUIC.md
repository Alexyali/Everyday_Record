# 基于QUIC的HTTP自适应流的可伸缩高效视频编码
`Scalable High Efficiency Video Coding based HTTP Adaptive Streaming over QUIC`  
`EPIQ’20, August 10–14, 2020`   

## ABSTRACT
- HTTP/2仍然存在队头阻塞和TCP三次握手的问题。QUIC运行在UDP上，可以解决这些问题
- 现有的ABR算法可以针对可伸缩和不可伸缩的视频流，但是缺少同时为两种视频流设计的算法
- 我们调查了QUIC和HTTP/2在ABR算法上的性能。并且我们提出了一种将可伸缩视频编码格式用于自适应视频流的有效方法，该方法结合了传统的视频流方法和重传技术。实验结果显示在丢包和重传的背景下，我们提出的方法提升了QUIC的性能。和HTTP/2相比，它提高了平均视频质量并且提供了一个更平滑的自适应表现。
- 最后我们论证了为不可伸缩视频编码器设计的方法也可以在伸缩视频上有效工作


## Introduction

- HTTP/2是在HAS的背景下评估的
- 它有一些关键特征：
  - 服务器推流
  - 多路复用
  - 流的优先级
  - 流终止
- HTTP/2依然在TCP的基础上运行，因此会有队头阻塞的问题，当丢包时严重影响用户体验。三次握手机制仍然存在
- QUIC协议基于UDP，已经被采纳为HTTP/3的传输协议
- ABR算法的目的时调整视频质量来符合用户的网络状况，避免缓冲排空。这些算法可以划分为三类：基于带宽，基于缓冲和混合调整。
- ABR算法为可伸缩编码器和不可伸缩编码器的其中一种设计。因此传统文献缺少可以同时解决可伸缩和不可伸缩编码器的ABR算法
- 之前作者为HAS上的不可伸缩视频提出了H2BR重传技术。如果未来的吞吐量和当前的缓冲比较合适，缓冲中的低质量块会被替代为高质量的块。额外的块和下一个块会根据多路复用和流优先级同时下载
- 在HTTP/2上使用非伸缩的视频编码并执行H2BR算法存在两个问题：
  - 低质量块被高质量块代替的带宽浪费
  - 当额外的块和下一个块使用相同的TCP连接同时下载时的队头阻塞
- 为了克服上述缺点，提出了改进的H2BR用于HAS环境下的SVC格式，并且在QUIC协议下部署解决队头阻塞问题
- 本文的贡献如下两点：
  - 考虑多路复用对QUIC和HTTP/2的系统比较，特别在同时下载额外的SHVC层的背景下
  - 结合额外的下载技术的不可伸缩视频流ABR算法的提出，不仅提高视频质量，而且提供平滑的自适应表现

## Related Work

### QUIC and HTTP/2 streaming

- HTTP/2提供了许多有用的功能例如多路复用，服务器推流，流优先级和流终止
- 这些特征可以被用于视频流传输并显著降低延迟，预先接收更重要的数据和取消客户端不用的数据
- QUIC最初由Google提出，该协议保证了低延迟，拥塞控制和更加安全的通信
- 有学者评估了QUIC在DASH应用下的性能，发现不能改善媒体吞吐量。也有学者发现QUIC不能提高ABR算法的QoE性能，但是在非伸缩视频流下的执行并行重传的性能会改善。
- Palmer在QUIC上加入了不可靠流来交付不重要的视频帧
- 本文的方法专注QUIC同时交付多个流来改善可伸缩视频流的QoE

### Scalable Video Coding in Streaming

- 在非伸缩视频流中，一个视频块的不同版本独立编码，导致存储费用的增加。而SVC降低了冗余并将其集成到一个流，并可以扩展到一个单独的版本
- 最低要求的视频版本被编码为基本层，一个或多个增强层使用基本层作为参考层
- 本文是首先研究包括额外下载的可伸缩视频流的QUIC实现。本文使用的可伸缩视频编码格式是SHVC

## PROPOSED APPROACH

### ABR

- 本文主要关注两个算法：非伸缩视频流-AGG，伸缩视频流-Backfilling
- AGG算法是基于吞吐量的算法并且很激进。选择小于下一个块预测吞吐量的最大比特率。作者之前的论文实验证明AGG算法被集成到H2BR模块用于传输非伸缩视频时，可以提供相对较高的QoE。为了在可伸缩视频上应用AGG算法，客户端为下一个块选择最大数量的层数，并且总比特率低于估计的吞吐量。该块的层从基础层到增强层依次下载。在当前块的所有层下载完成后，下一个块不断重复该过程
- Backfilling算法中，如果客户端的缓冲区没有下载全部的BL，那么依次下载较早播放的BL。如果视频块的BL全部下载完成，自适应算法会从最晚播放的块开始下载下一个EL来逐渐提升质量

### H2BR for Scalable Video Streaming

- 质量差距定义为两个相邻的块之间层数的差距。这个现象会影响用户的QoE，因此通过下载质量较低的块的额外的层来填补差距。额外的层和下一个块的层必须同时下载。
- 本文为可伸缩视频流提出了改进的AGG结合H2BR的方法。当客户端决定下一个块的层数后，如果这些层的总比特率比估计吞吐量小并且当前缓冲大于一个阈值，那么H2BR检测存在质量差距的块。在满足特定的情况下下载低质量块的额外层
- H2BR的方法在HTTP/2上执行。为了评估QUIC对该方法的影响，本文采用QUIC之上的HTTP/3

## Evaluation

- 本文考虑两个场景：
  - 建立在QUIC上的HTTP/3和HTTP/2在丢包下解决HOL堵塞的能力
  - 不丢包的情况下缓冲大小对基于SHVC的视频流的影响
- 本文考虑如下的指标：
  - 平均视频质量
  - 向下切换次数
  - 平均切换幅度
  - 卡顿次数和时长

## Conclusion

- 针对在QUIC上的SVC视频的自适应流提出了有效的方法。结合了针对非伸缩视频编码格式的修改和H2BR方法。H2BR下载已经在缓冲区的片段的额外增强层来最大化视频质量。
- 实验结论有两个：
  - QUIC有快速恢复和HOL阻塞消除能力，在丢包的情况下，QUIC可以很好支持共存的流来提供很好的性能
  - 提出的方法不仅对不可伸缩视频流有效，而且对可伸缩视频流也有提升。但是当缓冲较小时，H2BR可能导致缓冲空缺

