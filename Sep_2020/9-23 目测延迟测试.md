# 9-23 目测延迟测试

## fifo分支测试

- 实验环境：在enc服务器上运行`fifo`分支的my_host_linux，在dec服务器上运行修改的`ffplay`和`client`
- fifo分支的目测延迟为530-600ms，时间戳计算延迟为361ms
- 总延迟的各阶段的时间戳：

| No   | uyvy create | server send | client recv | ffplay | delay |
| ---- | ----------- | ----------- | ----------- | ------ | ----- |
| 1    | 51549       | 51767       | 51803       | 51910  | 361   |

## master分支测试

- 实验环境同上，切换到master分支
- master分支的目测延迟为550-600ms，计算延迟为378ms
- 总延迟的各阶段的时间戳：

| No   | uyvy create | server send | client recv | ffplay | delay |
| ---- | ----------- | ----------- | ----------- | ------ | ----- |
| 1    | 79904       | 80124       | 80166       | 80282  | 378   |

## QUESTION

- 计算延迟和目测延迟差距很大，原因还不清楚
- 把目测延迟减去编码时间和播放时间当做传输时间是不合理的